/*! jquery-select7 1.2.3 http://github.com/Se7enSky/jquery-select7
*/
(function(){var n,t=[].slice;n=function(n){"use strict";var u,r,f,i;return i=function(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")},r=function(t){var u,f,e,r;return(u=n(t).attr("placeholder"))&&n(t).find("option:first").prop("disabled",!0).attr("data-is-placeholder",!0).text(u),e=function(t){var u,r;return r=n(t).data(),r.title=i(n(t).text()),r.value=n(t).attr("value")||i(n(t).text()),n(t).attr("disabled")&&(r.disabled=!0),(u=n(t).attr("class"))&&(r["class"]=u),r},f=function(t){var f,u;return u=n(t).data(),u.isOptgroup=!0,u.title=i(n(t).attr("label")),(f=n(t).attr("class"))&&(u["class"]=f),u.options=r(t),u},r=function(t){var i,r,s,o,u;for(o=n(t).find("> option, > optgroup"),u=[],r=0,s=o.length;r<s;r++)i=o[r],n(i).is("option")?u.push(e(i)):u.push(f(i));return u},r(t)},f=function(t,i){var r,e,o,u,f,h,c,s;for(o=n(t).val(),u=0,h=i.length;u<h;u++)if(r=i[u],r.isOptgroup){for(s=r.options,f=0,c=s.length;f<c;f++)if(e=s[f],e.value===o)return e}else if(r.value===o)return r;return i.length>0&&i[0].isPlaceholder?i[0]:null},u=function(){function t(t,i){var u,f,e,r;this.el=t;this.$el=n(this.el);this.$select7=null;this.$drop=null;this.config=n.extend({},this.defaults,i);this.$el.is(".select7_native_dropdown")&&(this.config.nativeDropdown=!0);this.$el.is(".select7_remove_current")&&(this.config.removeCurrent=!0);this.$el.is(".select7_collapse_optgroups")&&(this.config.collapseOptgroups=!0);r=this.$el.data();e=r.templateOptionFnName;f=r.templateOptgroupFnName;u=r.templateCurrentFnName;e&&(this.config.optionTemplate=function(n){return window[e](n)});f&&(this.config.optgroupTemplate=function(n){return window[f](n)});u&&(this.config.currentTemplate=function(n){return window[u](n)});this.updateItemsAndSelected();this.opened=!1;this.pwnSelect()}return t.prototype.defaults={nativeDropdown:!1},t.prototype.updateItemsAndSelected=function(){return this.items=r(this.el),this.selected=f(this.el,this.items)},t.prototype.pwnSelect=function(){var i,r,f,t,u,e=this;this.config.nativeDropdown||this.$el.hide();i=this.$el.attr("class").split(" ");i.splice(i.indexOf("select7"),1);f='<div class="select7 '+i.join(" ")+'">\n\t<div class="select7__current">\n\t\t<span data-role="value" class="select7__current-value" data-value=""><\/span><span class="select7__caret"><\/span>\n\t<\/div>\n<\/div>';this.$select7=n(f);this.$el.data("updateCurrentFn",function(){return e.updateCurrent()});this.$el.on("change",this.$el.data("updateCurrentFn"));return this.updateCurrent(),this.config.nativeDropdown||this.$select7.find(".select7__current").click(function(){return e.toggle()}),this.$el.after(this.$select7),this.config.nativeDropdown?(this.$el.css({position:"absolute",transformOrigin:"top left",zIndex:1,opacity:0,margin:0,padding:0}),t=function(n,t){return parseFloat(n.css(t).replace("px",""))},u=function(n){return t(n,"width")+t(n,"padding-left")+t(n,"padding-right")+t(n,"border-left-width")+t(n,"border-right-width")},r=function(n){return t(n,"height")+t(n,"padding-top")+t(n,"padding-bottom")+t(n,"border-top-width")+t(n,"border-bottom-width")},this.$el.css({transform:"scaleX("+u(this.$select7)/u(this.$el)+") scaleY("+r(this.$select7)/r(this.$el)+")"})):void 0},t.prototype.updateCurrent=function(){var n;return this.updateItemsAndSelected(),n=this.$select7.find("[data-role='value']"),this.selected===null&&(this.selected={isPlaceholder:!0,title:"-"}),n.attr("data-value",this.selected.isPlaceholder?"":this.selected.value),n.toggleClass("select7__placeholder",!!this.selected.isPlaceholder),this.config.currentTemplate?n.html(this.config.currentTemplate(this.selected)):n.text(this.selected.title),n.find(".select7__icon").remove(),this.selected.icon?n.prepend('<span class="select7__icon"><img src="'+this.selected.icon+'"><\/span>'):void 0},t.prototype.open=function(){var u,h,f,e,i,o,c,s,t=this;if(!this.opened&&(this.items=r(this.el),this.items.length!==0)){for(this.$drop=n('<ul class="select7__drop"><\/ul>'),this.$drop=n('<div class="select7__drop"><\/div>'),u=n('<ul class="select7__drop-list"><\/ul>'),this.$drop.append(u),f=function(i){var r;return r=n('<li class="select7__option '+(i["class"]||"")+'"><\/li>'),t.config.optionTemplate?r.html(t.config.optionTemplate(i)):r.text(i.title),i.disabled&&r.addClass("select7__option_disabled"),i===t.selected&&r.addClass("select7__option_current"),i.icon&&r.prepend('<span class="select7__icon"><img src="'+i.icon+'"><\/span>'),r.data("option",i),r},h=function(r){var e,u,h,c,o,s,a,l;if(u=n('<li class="select7__optgroup '+(r["class"]||"")+'"><\/li>'),t.config.collapseOptgroups&&u.addClass("select7__optgroup_collapse"),c=!1,e=n('<span class="select7__optgroup-label"><\/span>'),t.config.optgroupTemplate?e.html(t.config.optgroupTemplate(r)):e.text(r.title),u.append(e),i.options){for(h=n('<ul class="select7__optgroup-items"><\/ul>'),l=i.options,s=0,a=l.length;s<a;s++)(o=l[s],o===t.selected&&(c=!0),t.config.removeCurrent&&o===t.selected)||h.append(f(o));u.append(h)}return t.config.collapseOptgroups&&c&&u.addClass("select7__optgroup_collapse_open"),u},s=this.items,e=o=0,c=s.length;o<c;e=++o)(i=s[e],i.isPlaceholder)||this.config.removeCurrent&&i===this.selected||u.append(i.isOptgroup?h(i):f(i));this.$drop.on("click",".select7__option",function(i){var u,r;if(u=n(i.currentTarget),r=u.data("option"),!r.disabled){if(r.href){window.location.href=r.href;return}return t.$el.val(r.value).trigger("change"),t.close()}});this.$drop.on("click",".select7__optgroup_collapse",function(t){var i;return i=n(t.currentTarget),i.toggleClass("select7__optgroup_collapse_open")});return this.$select7.append(this.$drop),this.$select7.addClass("select7_open"),this.opened=!0,n("body").trigger("select7Opened"),setTimeout(function(){t.$drop.click(function(n){return n.stopPropagation()});t.$drop.data("closeFn",function(){return t.close()});return n("body").on("click select7Opened",t.$drop.data("closeFn"))},1)}},t.prototype.close=function(){if(this.opened)return this.$select7.removeClass("select7_open"),n("body").off("click select7Opened",this.$drop.data("closeFn")),this.$drop.remove(),this.$drop=null,this.opened=!1},t.prototype.toggle=function(){return this.opened?this.close():this.open()},t.prototype.destroy=function(){return this.opened&&close(),this.$select7.remove(),this.$el.off("change",this.$el.data("updateCurrentFn")),this.$el.data("updateCurrentFn",null),this.$el.data("select7",null),this.$el.show()},t}(),n.fn.select7=function(){var r,i;return i=arguments[0],r=2<=arguments.length?t.call(arguments,1):[],this.each(function(){var t;return t=n(this).data("select7"),t||(t=new u(this,typeof i=="object"?option:{}),n(this).data("select7",t)),typeof i=="string"?t[i].apply(t,r):void 0})}};typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}).call(this);